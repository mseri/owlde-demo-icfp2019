<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8" />

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
    integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">

  <!-- Allow latex -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css"
    integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.js"
    integrity="sha384-JiKN5O8x9Hhs/UE5cT5AAJqieYlOZbGT3CHws/y97o3ty4R7/O5poG9F3JoiOYw1"
    crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/contrib/auto-render.min.js"
    integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

  <!-- Load plotly.js and chart.xkcd -->
  <!-- 
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.xkcd@1/dist/chart.xkcd.min.js"></script>
  -->
  <script src="plotly.min.js"></script>
  <script src="chart.xkcd.min.js"></script>

  <!-- Our program -->
  <script src="preypredator.bc.js"> </script>

  <style>
    body {
      max-width: 800px;
      font-size: 1.2em;
      margin: 2em;
    }

    input {
      width: 90px;
      float: right;
    }
  </style>
</head>

<body>
  <div>
    <h1>The Lotka-Volterra equations</h1>

    <p>The Lotka–Volterra equations, also known as the predator–prey equations, are a pair of <em>first-order nonlinear
        differential equations</em>, frequently used to describe the dynamics of biological systems in which two species
      interact, one as a predator and the other as prey.</p>

    <p>The populations change through time according to the pair of equations:

      $$
      {\left\lbrace\begin{aligned}{\frac {dx}{dt}}&=\alpha x-\beta xy,\; \\{\frac {dy}{dt}}&=\delta xy-\gamma
      y,\end{aligned}\right.}
      $$

      where

      <ul>
        <li>\(x\) is the number of prey (for example, rabbits);</li>
        <li>\(y\) is the number of some predator (for example, foxes);</li>
        <li>\({\tfrac {dy}{dt}}\) and \({\tfrac
          {dx}{dt}}\) represent the instantaneous growth rates of the two populations;</li>
        <li>\(t\) represents time;</li>
        <li>\(\alpha, \beta, \gamma, \delta \) are positive real parameters describing the interaction of the two
          species.
        </li>
      </ul>
    </p>
    <p>
      The equations have periodic solutions and do not have a simple expression in terms of the usual trigonometric
      functions, although they are quite tractable.
    </p>
  </div>
  <div>
    <h2>A simple example</h2>
    <p>
      Suppose there are two species of animals, a baboon (prey) and a cheetah (predator). If the initial conditions are
      10
      baboons and 10 cheetahs, one can plot the progression of the two species over time; given the parameters that the
      growth and death rates of baboon are 1.1 and 0.4 while that of cheetahs are 0.1 and 0.4 respectively. The choice
      of
      time interval is arbitrary.
    </p>
    <p>
      One may also plot solutions parametrically as orbits in phase space, without representing time, but with one axis
      representing the number of prey and the other axis representing the number of predators for all times.
    </p>
    <div id="volterralotka"></div>
    <p>
      An aside: These graphs illustrate a serious potential problem with this as a biological model: For this specific
      choice of parameters, in each cycle, the baboon population is reduced to extremely low numbers, yet recovers
      (while
      the cheetah population remains sizeable at the lowest baboon density). In real-life situations, however, chance
      fluctuations of the discrete numbers of individuals, as well as the family structure and life-cycle of baboons,
      might cause the baboons to actually go extinct, and, by consequence, the cheetahs as well. This modelling problem
      has been called the "atto-fox problem", an atto-fox being a notional \(10^{-18}\) of a fox.
    </p>
  </div>
  <hr />
  <div>
    <h2>Interactive plot</h2>
    <div id="volterralotka1"></div>
    <h2>Parameters</h2>
    <div style="display:grid; grid-template-columns: 1fr 1px 1fr;">
      <div style="margin: 0.5em; line-height: 1.8;">
        <label for="alpha">Preys reproduction rate (\(\alpha\))</label> <input id="alpha"></input><br />
        <label for="beta">Preys death rate (\(\beta\))</label> <input id="beta"></input><br />
        <label for="gamma">Predators reproduction rate (\(\gamma\))</label> <input id="gamma"></input><br />
        <label for="delta">Predatorss death rate (\(\delta\))</label> <input id="delta"></input>
      </div>
      <div style="border: 1px solid grey;"></div>
      <div style="margin: 0.5em; line-height: 1.8;">
        <label for="initial_preys">Inital preys population</label> <input id="initial_preys"></input><br />
        <label for="initial_predators">Initial predators population</label><input id="initial_predators"></input>
      </div>
    </div>
  </div>
  <br />
  <hr />
  <div>
    <h4>Of course one can play with any javascript-based plotting library, and use their favourite style...</h4>
    <p>In this case we are using <a href="https://github.com/timqian/chart.xkcd">chart.xkcd</a>.</p>
    <svg id="volterralotka-xkcd" class="line-chart"></svg>
  </div>
  <footer style="font-size: 0.8em;">
    Credits: the material is an adaptation of the english version of the
    <a href="https://en.wikipedia.org/wiki/Lotka%E2%80%93Volterra_equations">Lotka-Volterra Equation Wikipedia page</a>.
  </footer>
</body>

</html>